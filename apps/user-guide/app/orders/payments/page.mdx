---
sidebar_position: 2
sidebar_label: "Quản lý Thanh toán Đơn hàng"
tags:
    - user guide
    - order
    - payment
products:
  - order
  - payment
---

import { 
  EllipsisHorizontal, 
} from "@medusajs/icons"
import { Table } from "docs-ui"

export const metadata = {
  title: `Quản lý Thanh toán Đơn hàng trong Kira Admin`,
}

# {metadata.title}

Trong hướng dẫn này, bạn sẽ học cách quản lý thanh toán của đơn hàng, bao gồm thu và hoàn tiền thanh toán.

## Tổng quan

Khi khách hàng đặt đơn hàng, thanh toán của họ được ủy quyền bởi nhà cung cấp thanh toán họ đã chọn. Bạn có thể quản lý thanh toán của đơn hàng bằng cách thu nó, hoàn tiền nó, hoặc xử lý số tiền còn nợ.

### Trạng thái Thanh toán Đơn hàng

Ở đầu trang chi tiết đơn hàng, bạn có thể thấy trạng thái thanh toán của đơn hàng. Trạng thái thanh toán có thể là một trong các trạng thái sau:

<Table>
  <Table.Header>
    <Table.Row>
      <Table.HeaderCell>Trạng thái</Table.HeaderCell>
      <Table.HeaderCell>Mô tả</Table.HeaderCell>
    </Table.Row>
  </Table.Header>
  <Table.Body>
    <Table.Row>
      <Table.Cell>Đã ủy quyền</Table.Cell>
      <Table.Cell>Trạng thái mặc định khi đơn hàng được đặt, trừ khi nhà cung cấp thanh toán được cấu hình để tự động thu thanh toán.</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell>Đã ủy quyền Một phần</Table.Cell>
      <Table.Cell>Một phần thanh toán được ủy quyền, điều này xảy ra nếu đơn hàng đã thay đổi. Ví dụ, nếu đơn hàng được chỉnh sửa và thanh toán mới được yêu cầu.</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell>Đã thu</Table.Cell>
      <Table.Cell>Thanh toán đã được thu và xử lý với nhà cung cấp thanh toán.</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell>Đã thu Một phần</Table.Cell>
      <Table.Cell>Một phần thanh toán đã được thu. Điều này xảy ra khi thanh toán của đơn hàng đã được thu trước đó, nhưng thay đổi trạng thái, chẳng hạn như đổi hàng, yêu cầu thanh toán bổ sung.</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell>Đã hoàn tiền</Table.Cell>
      <Table.Cell>Thanh toán đã được hoàn lại cho khách hàng.</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell>Đã hoàn tiền Một phần</Table.Cell>
      <Table.Cell>Một phần thanh toán đã được hoàn lại.</Table.Cell>
    </Table.Row>
  </Table.Body>
</Table>

---

## Thu Thanh toán

Trừ khi nhà cung cấp thanh toán mà khách hàng chọn được cấu hình để tự động thu thanh toán của đơn hàng, bạn cần thu thanh toán thủ công.

Thu thanh toán của đơn hàng kích hoạt việc xử lý của nó với nhà cung cấp thanh toán đã chọn, chẳng hạn như Stripe.

<Note>

Nếu bạn không chắc chắn liệu nhà cung cấp thanh toán của bạn có được cấu hình để tự động thu thanh toán hay không, vui lòng liên hệ với nhóm kỹ thuật của bạn để debug [dịch vụ thanh toán tích hợp](!resources!/commerce-modules/payment/payment-provider).

</Note>

Để thu thanh toán của đơn hàng:

1. Mở trang chi tiết đơn hàng.
2. Cuộn xuống phần Thanh toán.
3. Nhấp vào nút Thu Thanh toán.
4. Xác nhận thu thanh toán bằng cách nhấp vào nút "Xác nhận" trong pop-up.

![Nút Thu Thanh toán](https://res.cloudinary.com/dza7lstvk/image/upload/v1739548104/User%20Guide/Screenshot_2025-02-14_at_5.48.04_PM_usm2le.png)

---

## Hoàn tiền Thanh toán

Bạn có thể hoàn tiền thanh toán một phần hoặc toàn bộ. Điều này có thể được thực hiện vì nhiều lý do, chẳng hạn như khi khách hàng trả lại mục hoặc nếu có lỗi trong đơn hàng.

<Note>

Trước [Medusa v2.11.0](https://github.com/medusajs/medusa/releases/tag/v2.11.0), bạn chỉ có thể hoàn tiền thanh toán sau khi tạo trả hàng hoặc thay đổi đơn hàng. Từ Medusa v2.11.0 trở đi, bạn có thể hoàn tiền thanh toán trực tiếp từ trang chi tiết đơn hàng mà không cần tạo trả hàng hoặc thay đổi đơn hàng. Nếu bạn không thể hoàn tiền thanh toán, hãy liên hệ với nhóm kỹ thuật của bạn để [cập nhật ứng dụng Medusa](!docs!/learn/update).

</Note>

Hoàn tiền thanh toán kích hoạt việc xử lý của nó với nhà cung cấp thanh toán đã chọn, chẳng hạn như Stripe.

<Note type="warning">

Hoàn tiền thanh toán là không thể hoàn tác.

</Note>

Để hoàn tiền thanh toán đã thu của đơn hàng:

1. Mở trang chi tiết đơn hàng.
2. Cuộn xuống phần Thanh toán.
3. Nhấp vào biểu tượng <InlineIcon Icon={EllipsisHorizontal} alt="three-dots" /> ở cuối thanh toán để hoàn tiền.
4. Chọn "Hoàn tiền" từ menu thả xuống.
5. Trong cửa sổ bên mở ra, điền các trường sau:
    - **Số tiền**: Nhập số tiền để hoàn tiền.
    - **Lý do Hoàn tiền**: Chọn lý do cho hoàn tiền từ menu thả xuống. Bạn có thể [quản lý lý do hoàn tiền trong cài đặt](../../settings/refund-reasons/page.mdx).
    - **Ghi chú**: Nhập ghi chú mà khách hàng có thể thấy trong thông báo họ nhận được.
6. Khi bạn hoàn tất, nhấp vào nút Lưu.

Một khi thanh toán được hoàn tiền, khách hàng sẽ nhận được thông báo về hoàn tiền và bạn có thể xem hoàn tiền như một phần hoạt động của đơn hàng.

![Biểu mẫu Hoàn tiền Thanh toán](https://res.cloudinary.com/dza7lstvk/image/upload/v1759995110/User%20Guide/CleanShot_2025-10-09_at_10.31.35_2x_dvbdbp.png)

---

## Xử lý Số tiền Còn nợ Dương

Đơn hàng có thể có số tiền còn nợ dương sau khi thực hiện thay đổi đối với nó, hoặc nếu nó được tạo như [đơn hàng nháp](../draft-orders/page.mdx).

Số tiền còn nợ dương cho biết rằng khách hàng cần thanh toán số tiền bổ sung để hoàn tất đơn hàng.

![Số tiền còn nợ trong Tóm tắt](https://res.cloudinary.com/dza7lstvk/image/upload/v1739801684/User%20Guide/Screenshot_2025-02-17_at_4.14.05_PM_qmw7gr.png)

Bạn có thể xử lý nó bằng cách:

1. [Đánh dấu đơn hàng là đã thanh toán thủ công](#mark-outstanding-amount-as-paid);
2. Hoặc [sao chép liên kết thanh toán](#copy-payment-link-for-additional-payment).

### Đánh dấu Số tiền Còn nợ là Đã Thanh toán

Bằng cách đánh dấu số tiền còn nợ dương là đã thanh toán, bạn đang thu thanh toán mà không xử lý nó qua nhà cung cấp thanh toán liên kết. Thay vào đó, bạn xử lý thu thanh toán bên ngoài Medusa.

Để đánh dấu số tiền còn nợ dương là đã thanh toán:

1. Mở trang chi tiết đơn hàng.
2. Trong phần Tóm tắt, nhấp vào nút "Đánh dấu là đã thanh toán".
3. Xác nhận đánh dấu thanh toán là đã thanh toán bằng cách nhấp vào nút "Xác nhận" trong pop-up.

### Sao chép Liên kết Thanh toán cho Thanh toán Bổ sung

Một cách khác bạn có thể xử lý số tiền còn nợ dương là bằng cách chia sẻ liên kết thanh toán với khách hàng để ủy quyền thanh toán. Liên kết thanh toán là một liên kết trong cửa hàng mà khách hàng có thể sử dụng để thanh toán cho số tiền bổ sung.

Để sao chép liên kết thanh toán cho thanh toán bổ sung:

1. Mở trang chi tiết đơn hàng.
2. Trong phần Tóm tắt, nhấp vào nút "Sao chép liên kết thanh toán".

Liên kết sau đó được sao chép và bạn có thể chia sẻ nó với khách hàng để ủy quyền thanh toán. Một khi được ủy quyền, bạn có thể [thu thanh toán](../payments/page.mdx#capture-payment).

<Note title="Mẹo">

Nếu liên kết thanh toán không bắt đầu bằng miền hoặc có miền không khớp với cửa hàng của bạn, hãy tham khảo nhóm kỹ thuật của bạn đến [hướng dẫn này](!docs!/learn/configurations/medusa-config#storefronturl) để thiết lập miền cửa hàng.

</Note>
